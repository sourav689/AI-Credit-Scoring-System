<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Intelligence System</title>
    <style>
        :root {
            --primary: #2563eb;
            --bg: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
            --border: #334155;
        }

        body { font-family: 'Inter', system-ui, sans-serif; background: var(--bg); color: var(--text-main); margin: 0; padding: 40px 20px; }
        .container { max-width: 900px; margin: auto; background: var(--card-bg); padding: 40px; border-radius: 16px; border: 1px solid var(--border); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        
        header { text-align: center; margin-bottom: 40px; }
        h1 { color: var(--primary); margin: 0; font-size: 28px; letter-spacing: -0.5px; }
        p.subtitle { color: var(--text-dim); margin-top: 8px; }

        .section-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-bottom: 32px; }
        .input-group { display: flex; flex-direction: column; gap: 8px; }
        
        label { font-size: 12px; font-weight: 600; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.5px; }
        input, select { background: #0f172a; border: 1px solid var(--border); border-radius: 8px; padding: 12px; color: white; font-size: 15px; transition: all 0.2s; }
        input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2); }

        .form-divider { grid-column: span 3; border-top: 1px solid var(--border); margin: 10px 0; padding-top: 20px; color: var(--primary); font-size: 14px; font-weight: bold; }

        button { grid-column: span 3; background: var(--primary); color: white; padding: 16px; border: none; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; transition: transform 0.1s; margin-top: 10px; }
        button:active { transform: scale(0.98); }

        #result-card { margin-top: 40px; padding: 30px; border-radius: 12px; display: none; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .status-badge { font-size: 32px; font-weight: 800; margin-bottom: 10px; }
        .details-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; }
        .success { background: rgba(34, 197, 94, 0.15); border: 1px solid #22c55e; color: #4ade80; }
        .danger { background: rgba(239, 68, 68, 0.15); border: 1px solid #ef4444; color: #f87171; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>üèõÔ∏è CreditRisk AI Terminal</h1>
        <p class="subtitle">Enter customer profile details for real-time risk assessment</p>
    </header>

    <div class="section-grid">
        <div class="form-divider">Profile & Stability</div>
        <div class="input-group"><label>Age</label><input type="number" id="age" value="30"></div>
        <div class="input-group"><label>Employment Years</label><input type="number" id="emp_years" value="5"></div>
        <div class="input-group"><label>Residing Years</label><input type="number" id="res_years" value="3"></div>
        
        <div class="input-group"><label>Dependents</label><input type="number" id="dependents" value="2"></div>
        <div class="input-group"><label>Is Banked?</label><select id="banked"><option>Yes</option><option>No</option></select></div>
        <div class="input-group"><label>Residence Type</label><select id="res_type"><option>Owned</option><option>Rented</option></select></div>

        <div class="form-divider">Monthly Financials (INR)</div>
        <div class="input-group"><label>Monthly Income</label><input type="number" id="income" value="80000"></div>
        <div class="input-group"><label>Monthly Expenses</label><input type="number" id="expenses" value="25000"></div>
        <div class="input-group"><label>Existing EMIs</label><input type="number" id="existing_emi" value="5000"></div>

        <div class="form-divider">Loan Proposal</div>
        <div class="input-group"><label>Requested Loan</label><input type="number" id="loan_amt" value="500000"></div>
        <div class="input-group"><label>Tenure (Months)</label><input type="number" id="tenure" value="36"></div>
        <div class="input-group"><label>Digital Score (0.0 - 1.0)</label><input type="number" step="0.1" id="digital_score" value="0.8"></div>

        <button onclick="evaluateRisk()">RUN RISK ASSESSMENT</button>
    </div>

    <div id="result-card">
        <div class="status-badge" id="status-text"></div>
        <div class="details-grid">
            <div>Confidence Score: <strong id="conf-val"></strong></div>
            <div>Disposable Surplus: <strong id="surplus-val"></strong></div>
        </div>
    </div>
</div>

<script>
    async function evaluateRisk() {
        const fields = ['age', 'emp_years', 'res_years', 'dependents', 'banked', 'res_type', 'income', 'expenses', 'existing_emi', 'loan_amt', 'tenure', 'digital_score'];
        const payload = {};
        fields.forEach(f => payload[f] = document.getElementById(f).value);

        const response = await fetch('/predict', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(payload)
        });

        const data = await response.json();
        const card = document.getElementById('result-card');
        card.style.display = 'block';
        card.className = data.status.includes('APPROVED') ? 'success' : 'danger';
        
        document.getElementById('status-text').innerText = data.status;
        document.getElementById('conf-val').innerText = data.confidence;
        document.getElementById('surplus-val').innerText = data.surplus;
    }
</script>

</body>
</html>